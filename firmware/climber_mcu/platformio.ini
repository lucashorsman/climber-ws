; PlatformIO configuration for Climber MCU firmware
; Each MCU controls one arm assembly (wheel + linear actuator + ToF sensors)
;
; Duplicate this project for each MCU and set the ARM_ID build flag:
;   NE=0, NW=1, SW=2, SE=3
;
; Or use a single firmware binary and set the arm ID at runtime via
; a DIP switch / EEPROM / serial command.

[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 921600

; micro-ROS for Arduino
lib_deps =
    https://github.com/micro-ROS/micro_ros_platformio

board_microros_transport = serial

build_flags =
    -DARM_ID=0              ; 0=NE, 1=NW, 2=SW, 3=SE (override per-MCU)
    -DCONTROL_LOOP_HZ=1000
    -DSTATE_PUBLISH_HZ=50
    -DCOMMS_TIMEOUT_MS=200
    -DTOF_READ_HZ=100
